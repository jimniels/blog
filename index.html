---
layout: default
title: Blog Home
type: home
---

{% comment %}
  Assign page to post, as that's what the post template uses


{% assign post = site.posts.first %}
{% assign page = post %}
{% assign content = post.content %}
{% include post.html currentPage='home' %}

{% endcomment %}

<div id="posts" class="copy">
    <h1>
      Posts
    </h1>

    {% for post in site.posts  %}
      {% capture this_year %}{{ post.date | date: "%Y" }}{% endcapture %}
      {% capture next_year %}{{ post.previous.date | date: "%Y" }}{% endcapture %}

      {% if page.title == post.title %}
        {% assign isNotActivePost = false %}
      {% else %}
        {% assign isNotActivePost = true %}
      {% endif %}

      {% if forloop.first %}
      <h2 id="posts-{{this_year}}">
        {{this_year}}
      </h2>
      <ul>
      {% endif %}

        <li>
          {% if isNotActivePost %}
            <a href="{{ site.baseurl }}{{ post.url }}">
          {% else %}
            <span>
          {% endif %}

          {{ post.title }}

          {%if isNotActivePost %}
            </a>
          {% else %}
            </span>
          {% endif %}

          <span class="date" class="m-r-sm">
            {{ post.date | date: "%b %-d" }}
          </span>
        </li>

      {% if forloop.last %}
      </ul>
      {% else %}{% if this_year != next_year %}
      </ul>
      <h2 id="posts-{{next_year}}">
        {{next_year}}
      </h2>
      <ul>
      {% endif %}{% endif %}
    {% endfor %}
  </div>
