---
(site) => {
  posts = site.posts
    -> (posts) => Tree.filter(posts, (post) => post.hackerNews && post.hackerNews.points > 100)
    // -> (posts) => Tree.sort(posts, (a, b) => (a.hackerNews.points > b.hackerNews.points ? -1 : 1))
    -> Tree.values
    -> Tree.plain
  
  page: {
    title: "Hacker News Hits",
    path: "/posts/hacker-news/",
  },
  
  return = <server/Layouts.js>.Page({ site, page }, _template())
}.return
---

<main class="wrapper">
  <h1>Posts</h1>
  ${<server/PostsNav.js>(page.path)} ${<server/PostsList.js>(posts, (post) =>
  `${post.hackerNews.points.toLocaleString()} points,
  ${post.hackerNews.comments.toLocaleString()} comments` )}
  <p class="posts-nav-note">
    “If you don’t get thrashed on whatever the HackerNews of the era is, you
    haven’t blogged enough.” —
    <a
      href="https://notes.jim-nielsen.com/#2025-02-12T0852"
      style="color: inherit; text-decoration: underline"
      >Dave Rupert</a
    >
  </p>
</main>
