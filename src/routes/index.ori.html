---
(site) => {
  posts = site.posts
    -> (posts) => Tree.filter(posts, (post) => !(post.tags && post.tags.includes("rssClub")))
    -> (posts) => Tree.take(posts, 8)
    -> Tree.values
    -> Tree.plain
  
  page: {
    title: "",
    path: "/",
  },
  
  return = <server/Layouts.js>.Page({ site, page }, _template())
}.return
---

<main class="wrapper">
  <h1>Posts</h1>
  ${<server/PostsNav.ori>(page.path)} ${<server/PostsList.js>(posts)}
  <p class="posts-nav-view-all">
    <a href="/archive/">View all ${site.posts.length} posts â†’</a>
  </p>
</main>
